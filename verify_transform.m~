% paste the computed transform here. replay on a set of test images
% open all images and the T from kinematics
clc; clear all

Tf = [-0.0310812333748081;0.0417728684476922;0.0636546382443061;1]




foldername = 'test_images/';

n_images = 30;


for counter = 1:n_images
    
    filenameImgL = strcat(foldername, int2str(counter), 'L.jpg');
    filenameImgR = strcat(foldername, int2str(counter), 'R.jpg');
    
    filenameImgT = strcat(foldername, int2str(counter), 'T.mat');
    load(filenameImgT);
    
    
    % P_robot = P_cam + Tf. we have P_robot and Tf
    % Tf(1:3) = Tf(1:3) + P_robot(1:3, counter) - P_cam(1:3, counter);

    P_robot = T(1:4, 4); % T is point from file
    
    P_cam = P_robot(1:3)- Tf(1:3);
    
    % now convert P_cam back into the L and R frame
    k = waitforbuttonpress;
    
    disp('One pair of images done');
    
end

% save all the 2D points

